schema: '2.0'
stages:
  prepare:
    cmd: python Code/prepare.py
    deps:
    - path: Code/prepare.py
      md5: b4c0378c460caf3257fdd0e0a03e2365
      size: 2452
    - path: Data/fer2013.csv
      md5: f8428a1edbd21e88f42c73edd2a14f95
      size: 301072766
    params:
      params.yaml:
        prepare.selected_emotions:
        - Happy
        - Sad
        - Neutral
    outs:
    - path: Data/prepared_data/x_test.pkl
      md5: c274777676ff17f4ef6914dfffa07d94
      size: 38688934
    - path: Data/prepared_data/x_train.pkl
      md5: e8d9e0aa8327737847b6388ffd93edb0
      size: 313528486
    - path: Data/prepared_data/x_val.pkl
      md5: d49b6cd271d2846b68a5c3dd4bb19c5d
      size: 39721126
    - path: Data/prepared_data/y_test.pkl
      md5: 88db4c0782cc388ea6799e7a44f52a6b
      size: 16951
    - path: Data/prepared_data/y_train.pkl
      md5: 52b150e3fc482bdc42d524bc16dfb750
      size: 136239
    - path: Data/prepared_data/y_val.pkl
      md5: 3c52a9b6335bd97ded670d3137e74dd1
      size: 17399
  train:
    cmd: python Code/train.py
    deps:
    - path: Code/train.py
      md5: f37345c8117cc2c43233152a1430690f
      size: 1799
    - path: Data/prepared_data/x_test.pkl
      md5: c274777676ff17f4ef6914dfffa07d94
      size: 38688934
    - path: Data/prepared_data/x_train.pkl
      md5: e8d9e0aa8327737847b6388ffd93edb0
      size: 313528486
    - path: Data/prepared_data/x_val.pkl
      md5: d49b6cd271d2846b68a5c3dd4bb19c5d
      size: 39721126
    - path: Data/prepared_data/y_test.pkl
      md5: 88db4c0782cc388ea6799e7a44f52a6b
      size: 16951
    - path: Data/prepared_data/y_train.pkl
      md5: 52b150e3fc482bdc42d524bc16dfb750
      size: 136239
    - path: Data/prepared_data/y_val.pkl
      md5: 3c52a9b6335bd97ded670d3137e74dd1
      size: 17399
    params:
      params.yaml:
        train.activation_func: relu
        train.batch_size: 32
        train.class_num: 3
        train.conv2d_kernels:
        - 3
        - 3
        - 3
        train.conv2d_units:
        - 32
        - 64
        - 128
        train.dense_units:
        - 64
        - 32
        train.epochs: 100
        train.image_size: 48
        train.learning_rate: 0.001
        train.pool_sizes:
        - 2
        - 2
        - 2
    outs:
    - path: Model/model.h5
      md5: 4b3254e078accdd903a535f9633b2103
      size: 2892304
    - path: Plots/history.json
      md5: 47bc86e69f8cdcfdd5ab4d060740949a
      size: 931
