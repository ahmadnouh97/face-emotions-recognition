schema: '2.0'
stages:
  prepare:
    cmd: python Code/prepare.py
    deps:
    - path: Code/prepare.py
      md5: dd8b1f05180794fa55e7c8546ad07fbb
      size: 3055
    - path: Data/fer2013.csv
      md5: f8428a1edbd21e88f42c73edd2a14f95
      size: 301072766
    params:
      params.yaml:
        prepare.selected_emotions:
        - Happy
        - Sad
        - Neutral
    outs:
    - path: Data/prepared_data/test
      md5: bfa8e955e014e9ddfa0175cfe5ab30e0.dir
      size: 3748479
      nfiles: 2099
    - path: Data/prepared_data/train
      md5: 1200e52743e4aabdfce4bdc67ef8aab9.dir
      size: 30333675
      nfiles: 17010
    - path: Data/prepared_data/val
      md5: 55e8aa611727dde06eeb75fe8b6b8eb8.dir
      size: 3849877
      nfiles: 2155
  train:
    cmd: python Code/train.py
    deps:
    - path: Code/train.py
      md5: 200f11b26d4fedf0d8566cbb0161f69f
      size: 3059
    - path: Data/prepared_data/train
      md5: 1200e52743e4aabdfce4bdc67ef8aab9.dir
      size: 30333675
      nfiles: 17010
    - path: Data/prepared_data/val
      md5: 55e8aa611727dde06eeb75fe8b6b8eb8.dir
      size: 3849877
      nfiles: 2155
    params:
      params.yaml:
        train.activation_func: relu
        train.batch_size: 32
        train.class_num: 3
        train.classes:
        - Happy
        - Sad
        - Neutral
        train.conv2d_kernels:
        - 3
        - 3
        - 3
        train.conv2d_units:
        - 32
        - 64
        - 128
        train.dense_units:
        - 64
        - 32
        train.dropout: 0.2
        train.epochs: 1
        train.image_size: 48
        train.learning_rate: 0.001
        train.pool_sizes:
        - 2
        - 2
        - 2
    outs:
    - path: Model/model.tf.index
      md5: 7b150b726a75a7c8366e67cf02b53afd
      size: 5356
    - path: Plots/accuracy.png
      md5: 88c9b680bc3aa2ed91dab1b0a5c668c7
      size: 16832
    - path: Plots/loss.png
      md5: 572236c065abb646fd2dcb5b50cb445c
      size: 16489
  evaluate:
    cmd: python Code/evaluate.py
    deps:
    - path: Code/evaluate.py
      md5: 6b54e595fd2ab6cd28ded3ba0949e30b
      size: 2988
    - path: Data/prepared_data/test
      md5: bfa8e955e014e9ddfa0175cfe5ab30e0.dir
      size: 3748479
      nfiles: 2099
    - path: Model/model.tf.index
      md5: 7b150b726a75a7c8366e67cf02b53afd
      size: 5356
    outs:
    - path: Metrics/f1_score.json
      md5: 05a608205974bb7a45237cd0cdae9589
      size: 89
